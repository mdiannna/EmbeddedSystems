/*
 * mystdio.cpp
 *
 *  Created on: Feb 22, 2020
 *      Author: mdiannna
 */

#include <stdio.h>
#include <avr/io.h>
#include <Arduino.h>
#include "mystdio.h"
#define __STDIO_FDEVOPEN_COMPAT_12

int MyPutChar( char c, FILE *t) {
    Serial.write( c );
    return 0;
}

int MyGetCh(void FILE *t) {
  while(!Serial.available());
  char ch = Serial.read();
//  return ch;
  return &ch;
}


void SerialInit() {
  Serial.begin(9600);
  fdevopen( MyPutChar, MyGetCh, 0);
}

